<div class="comments-section mt-4 border-t pt-4">
    <div class="add-comment mb-4">
        <textarea [(ngModel)]="newCommentContent" class="w-full p-2 border rounded"
            placeholder="Add a comment..."></textarea>
        <button (click)="addComment()" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded">Post Comment</button>
    </div>
    <div class="comments-list space-y-4">
        <div *ngFor="let comment of comments" class="comment p-4 border rounded bg-gray-100">
            <div class="flex items-center mb-2">
                <span class="font-bold">{{ comment.user.username }}</span>
                <button *ngIf="canEditComment(comment)" (click)="editComment(comment._id)"
                    class="btn btn-sm btn-primary ml-2">
                    <i class="bi bi-pencil"></i>
                </button>
                <button *ngIf="canDeleteComment(comment)" (click)="deleteComment(comment._id)"
                    class="btn btn-sm btn-danger ml-2">
                    <i class="bi bi-trash"></i>
                </button>
            </div>
            <p class="text-gray-800">{{ comment.content }}</p>
            <p class="text-gray-600 text-sm">Created at: {{ comment.createdAt | date:'short' }}</p>
        </div>
        <div *ngIf="comments.length === 0" class="text-gray-600">No comments yet.</div>
    </div>
</div>