<div class="comments-section">
    <div class="add-comment">
        <textarea [(ngModel)]="newCommentContent" class="w-full p-2 border rounded"
            placeholder="Add a comment..."></textarea>
        <button (click)="addComment()" class="btn btn-primary mt-2">Post Comment</button>
    </div>
    <div class="comments-list mt-4">
        <div *ngFor="let comment of comments" class="comment mb-4 p-2 border-b">
            <div class="flex items-center mb-2">
                <span class="font-bold">{{ comment.user.username }}</span>
                <button *ngIf="canEditComment(comment)" (click)="editComment(comment._id)"
                    class="btn btn-sm btn-primary ml-2">
                    <i class="bi bi-pencil"></i>
                </button>
                <button *ngIf="canDeleteComment(comment)" (click)="deleteComment(comment._id)"
                    class="btn btn-sm btn-danger ml-2">
                    <i class="bi bi-trash"></i>
                </button>
            </div>
            <p class="text-gray-800">{{ comment.content }}</p>
        </div>
        <div *ngIf="comments.length === 0" class="text-gray-600">No comments yet.</div>
    </div>
</div>